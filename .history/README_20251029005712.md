# üß† Graph-TempCZ

**A Graph-Based Perspective on Software Usage and Evolution in Scientific Publications**

Graph-TempCZ is a large-scale **graph dataset** designed to study how scientific publications mention and use software over time.
It provides both the **dataset** and **experimental code** for embedding-based link prediction, topology-driven baselines, and temporal generalization across publication years.



## üìë Table of Contents

- [üß† Graph-TempCZ](#-graph-tempcz)
  - [üìë Table of Contents](#-table-of-contents)
  - [üß© Overview](#-overview)
  - [üöÄ Key Features](#-key-features)
  - [üß± Dataset Construction](#-dataset-construction)
  - [üîó Link Prediction](#-link-prediction)
  - [‚è≥ Temporal Prediction](#-temporal-prediction)
  - [‚öôÔ∏è Environment Setup](#Ô∏è-environment-setup)
  - [üìÇ Data Preparation](#-data-preparation)
  - [üöÄ Quick Start](#-quick-start)
  - [üìú Script Guide](#-script-guide)
  - [üîÅ Reproducibility Tips](#-reproducibility-tips)
  - [üìö Citation](#-citation)



## üß© Overview

Graph-TempCZ represents **software mentions and citations** in scientific literature as a **heterogeneous graph** linking publications and software entities.
This enables predictive modeling of software usage through **link prediction** and **temporal graph learning**.

![Overview of the data processing](./fig/fig2.png)

> **Motivation:**
> Existing approaches to analyzing software usage often rely on flat tabular or textual representations, which fail to capture the structural and temporal dependencies between publications and software.
> Graph-TempCZ overcomes these limitations by framing software usage as a **graph** and **temporal link prediction** problem.



## üöÄ Key Features

* **6.5M+ mention edges** between publications and software from **1959‚Äì2022**
* Rich node attributes: titles, abstracts, full text, journal info, and disambiguated software names
* **Sentence-transformer embeddings** integrated with **Graph Neural Networks (GNNs)** for link prediction
* Multiple baselines:

  * Topology-only (CN, AA, Jaccard, etc.)
  * Embedding-only
  * Hybrid topology + embedding models
* **Temporal subgraphs (2010‚Äì2020)** for cross-year generalization and evolution studies

![Overview of the Graph-TempCZ](./fig/fig4.png)



## üß± Dataset Construction

Graph-TempCZ is derived from the **CZ Software Mentions dataset** (Istrate et al., 2022) and augmented with publication metadata from **Europe PMC**.

**Pipeline:**

1. **Data Augmentation:** Retrieve publication titles, abstracts, and journals using PMCIDs.
2. **Graph Construction:** Create publication‚Äìsoftware nodes and mention edges, removing isolated subgraphs.
3. **Temporal Graph Construction:** Split by year (2010‚Äì2020) for longitudinal prediction tasks.

<!-- ![Overview of data processing](./fig/fig2.png) -->

> Each yearly subgraph is divided into training, validation, and test sets (8:1:1), preserving the real-world distribution of software mentions.



## üîó Link Prediction

Graph-TempCZ enables **link prediction** to infer missing or potential software mentions in publications.

**Models:**

* **Traditional**: XGBoost using textual and topological features
* **Graph-based**: Two-layer GraphSAGE trained on heterogeneous publication‚Äìsoftware graphs

**Performance:**
GraphSAGE achieves **92.88% test accuracy**, a **5.98% improvement** over feature-based baselines.

![Results of Link Prediction](./fig/fig6.png)



## ‚è≥ Temporal Prediction

Temporal link prediction evaluates **cross-year generalization** ‚Äî can models trained in one year predict future software usage?

**Findings:**

* Models generalize well to adjacent years with mild performance decay as the temporal gap widens.
* Training on later (larger, denser) graphs improves cross-year robustness.

![Training pipeline of temporal prediction](./fig/fig3.png)
<!-- ![Overview of temporal subgraph](./fig/fig5.png) -->
![Results of Temporal Prediction](./fig/fig7.png)



## ‚öôÔ∏è Environment Setup

Graph-TempCZ experiments were developed using **Python 3.9+** and **PyTorch**.

```bash
conda env create -f environment.yml
conda activate pyg
```

> üí° **Tip:**
> Install the correct PyTorch & PyG wheels for your CUDA version:
> [PyTorch](https://pytorch.org) | [PyTorch Geometric](https://pytorch-geometric.readthedocs.io)



## üìÇ Data Preparation

1. Obtain the core CSV files:

   * `single_graph_merged_data.csv` ‚Äî raw publication‚Äìsoftware mentions
   * `single_graph_merged_data_label.csv` ‚Äî labeled graph for supervised learning
2. Default directory layout:

   ```
   Graph-TempCZ/
   ‚îî‚îÄ‚îÄ ../datasets/
       ‚îú‚îÄ‚îÄ single_graph_merged_data.csv
       ‚îî‚îÄ‚îÄ single_graph_merged_data_label.csv
   ```
3. (Optional) See `1.pdf`‚Äì`3.pdf` for dataset summaries, sampling, and temporal evaluation setups.



## üöÄ Quick Start

Run the provided scripts for different baselines and tasks:

```bash
# Graph Neural Network baseline
python GNN.py

# Temporal generalization experiments
python temporal_link_prediction.py

# Feature and topology-based baselines
python feature_embedding_link_prediction.py
python topology_embedding_link_prediction.py
python topology_and_embedding_combination_link_prediction.py
```

Each script logs metrics (AUC, AP, F1, Recall) and stores test predictions with timestamps.



## üìú Script Guide

| Script                                                      | Description                                                                                   |
| -- |  |
| **`GNN.py`**                                                | Trains a GraphSAGE-based model combining sentence-transformer embeddings and graph structure. |
| **`temporal_link_prediction.py`**                           | Evaluates temporal generalization across 2010‚Äì2020 using cached embeddings.                   |
| **`feature_embedding_link_prediction.py`**                  | Baseline using text embeddings and classical predictors (XGBoost).                            |
| **`topology_embedding_link_prediction.py`**                 | Heuristic topology-only baselines (CN, AA, Jaccard, etc.).                                    |
| **`topology_and_embedding_combination_link_prediction.py`** | Combines topological and semantic features for hybrid models.                                 |
| **`fig/*.png`**                                             | Dataset visualizations (top software mentions, yearly trends, graph overview).                |
| **`1.pdf`‚Äì`3.pdf`**                                         | Dataset design and evaluation summaries.                                                      |



## üîÅ Reproducibility Tips

* Use `WANDB_MODE=offline` for local logging.
* Control GPU usage via:

  ```bash
  export CUDA_VISIBLE_DEVICES=0,1
  ```
* Cached data directories:

  ```
  ./single_year_split_cache_refine_2020_2021/
  ```

  Store embeddings and splits for reproducible temporal experiments.



## üìö Citation